!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.t=n():t.t=n()}(self,(()=>(()=>{"use strict";var t={d:(n,e)=>{for(var r in e)t.o(e,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:e[r]})},o:(t,n)=>Object.prototype.hasOwnProperty.call(t,n),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"u",{value:!0})}},n={};t.r(n),t.d(n,{init:()=>T,variable:()=>L});var e=function(t){return t.split("-").reduce((function(t,n,e){return t+(e?n[0].toUpperCase()+n.slice(1):n)}),"")};function r(t){return"true"===t||"false"!==t&&("null"===t?null:"undefined"===t?void 0:""===t?"":isNaN(Number(t))?t:Number(t))}var o=function(t,n){var e="return (state) => {".concat(Object.keys(n).map((function(t){return"const ".concat(t,' = state["').concat(t,'"];')})).join("\n")," return ").concat(t,"}");return Function(e)()};function u(t,n){try{var e=o(function(t){return t.replace(/[\r\n]+/g,"")}(t),n),r=e(n);return Array.isArray(r)&&(r=r.join("")),r}catch(n){throw new Error("Failed to create function from expression {{".concat(t,"}}: ").concat(n.message))}}function i(t,n){for(var o=Object.assign({},n),i=0;i<t.length;i++)o[e(t[i].name)]=r(t[i].i?u(t[i].value,n):t[i].value);return o}function a(t){for(var n=t.indexOf("{{"),e=0,r=n;r<t.length;r++)if("{{"===t.slice(r,r+2)?(e++,r++):"}}"===t.slice(r,r+2)&&(e--,r++),0===e)return{start:n,end:r};return{start:n,end:-1}}var c=function(t,n){for(var e,r,o=t,i=!0,c="";i;){var f=a(o),l=f.start,v=f.end;if(-1===v){i=!1;break}var s=o.slice(l+2,v-1),d=o.slice(0,l),h=o.slice(v+1),m=u((e=s,r=void 0,(r=document.createElement("div")).innerHTML=function(t){return t.replace(/<(?=[^<>]*>)/g,"&lt;").replace(/(?<=[^<>]*)>/g,"&gt;")}(e),r.textContent||r.innerText||""),n);c+="".concat(d).concat(m),o=h}return c+o},f=/\{\{(.+?)\}\}/,l=function(t){return Array.from(t.attributes).map((function(t){var n=f.exec(t.value);return{name:t.name,value:n?n[1]:t.value,i:!!n}}))},v=function(t){return t.replace(/[\r\n]+\s*/g,"")};function s(t,n,e){for(var r=function(t){for(var n=[],e=document.evaluate("template",t,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null),r=e.iterateNext();r;)n.push(r),r=e.iterateNext();return n}(t),o=document.createDocumentFragment(),u=0;u<r.length;u++){var i=r[u].getAttribute("id");if(i){if(r[u].innerHTML=v(r[u].innerHTML),1!==r[u].content.childNodes.length)throw new Error("Template ".concat(i," should have a single child"));d(i,r[u],n,e),o.appendChild(r[u])}}o.textContent=""}function d(t,n,e,r){function o(){return Reflect.construct(HTMLElement,[],o)}o.prototype=Object.create(HTMLElement.prototype),o.prototype.constructor=o,o.prototype.connectedCallback=function(t,n,e){return function(){var r,o,u=l(this),a=i(u,n),f=t.innerHTML.replace(/\{\{\s*children\s*\}\}/g,this.innerHTML),v=c(f,a),s=document.createElement("div");s.innerHTML=v;var d=s.firstChild;null===(r=this.parentNode)||void 0===r||r.insertBefore(d,this),e.add({element:d,l:f,v,h:u}),e.m(),null===(o=this.parentNode)||void 0===o||o.removeChild(this)}}(n,e,r),customElements.define(t,o)}var h=function(t,n,e){var r=n.getAttribute("data-on-".concat(t));if(!r)throw new Error("Missing data-handler attribute");var u=o(r,e);return function(n){try{u(e),n.preventDefault()}catch(n){throw new Error("".concat(n.message,": data-on-").concat(t,"=").concat(r))}}};function m(t,n,e){t.querySelectorAll("[data-on-".concat(n,"]")).forEach((function(t){var r=h(n,t,e);t.addEventListener(n,r),t["".concat(n,"Handler")]=r}))}function b(t,n){m(t,"click",n),m(t,"change",n)}function p(t,n){if(n.name.startsWith("data-attribute-")){var e=n.name.substring(15);n.newValue?t.setAttribute(e,n.newValue):t.removeAttribute(e)}}var g=function(t){return t.nodeType!==Node.TEXT_NODE&&-1!==t.tagName.indexOf("-")},w=function(t,n,e){for(var o=[],i=document.evaluate("self::*[text()[contains(., '{{')] and text()[contains(., '}}')]] | self::*[@*[contains(., '{{') and contains(., '}}')]] | .//*[text()[contains(., '{{')] and text()[contains(., '}}')]] | .//*[@*[contains(., '{{') and contains(., '}}')]]",t,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null),a=i.iterateNext();a;)g(a)||o.push(a),a=i.iterateNext();for(var f=function(){var t,i=o[v].outerHTML,a=l(o[v]),f=c(i,n),s=document.createElement("div");s.innerHTML=f;var d=s.firstChild;a.map((function(t){return p(d,{name:t.name,newValue:r(t.i?u(t.value,n):t.value)})})),null===(t=o[v].parentNode)||void 0===t||t.replaceChild(d,o[v]),e.add({element:d,l:i,v:f,h:[]})},v=0;v<o.length;v++)f()};function y(t,n){t.querySelectorAll("[data-on-".concat(n,"]")).forEach((function(t){var e=t["".concat(n,"Handler")];e&&t.removeEventListener(n,e)}))}function N(t,n){if(t.nodeType===Node.TEXT_NODE)return function(t,n){var e;return t.textContent!==n.textContent?[{node:t,p:n,content:null!==(e=n.textContent)&&void 0!==e?e:""}]:[]}(t,n);t.innerHTML=v(t.innerHTML),n.innerHTML=v(n.innerHTML);var e=function(t,n){for(var e=[],o=0;o<t.attributes.length;o++){var u=t.attributes[o],i=n.getAttribute(u.name);i!==u.value&&e.push({name:u.name,newValue:r(i||"")})}return e}(t,n);return(e.length>0?[{node:t,p:n,attributes:e}]:[]).concat(function(t,n){for(var e=[],r=!1,o=Math.max(t.childNodes.length,n.childNodes.length),u=0;u<o;u++){var i=t.childNodes[u],a=n.childNodes[u];if(void 0!==i&&i.nodeType===Node.TEXT_NODE&&void 0!==a&&a.nodeType===Node.TEXT_NODE){if(i.textContent!==a.textContent){r=!0;break}}else{if(void 0===i||void 0===a){r=!0;break}e=e.concat(N(i,a))}}return r?[{node:t,p:n,content:n.innerHTML}]:e}(t,n))}function E(t){return(new DOMParser).parseFromString(t,"text/html").body.firstChild}function j(t,n,e){for(var r=[],o=t;o!==n;)r.unshift(Array.prototype.indexOf.call(o.parentNode.childNodes,o)),o=o.parentNode;for(var u=e,i=0,a=r;i<a.length;i++){var c=a[i];if(!u.childNodes[c])return null;u=u.childNodes[c]}return u}var O=function(t,n,e,r,o){var u,i;if(g(n))null===(u=t.parentElement)||void 0===u||u.replaceChild(n,t);else if(void 0!==e)t.nodeType===Node.TEXT_NODE?t.textContent=e:(y(i=t,"click"),y(i,"change"),t.innerHTML=e,b(t,o));else if(void 0!==r)for(var a=0;a<r.length;a++)p(t,r[a]),t.setAttribute(r[a].name,r[a].newValue)},x=function(t,n){for(var e=0;e<t.value.length;e++){var r=t.value[e],o=r.element,u=r.l,a=r.h,f=r.v,l=i(a,n),v=c(u,l),s=E(v),d=E(f),h=N(d,s);if(h.length>0){t.N(e,v);for(var m=0;m<h.length;m++){var b=j(h[m].node,d,o);O(b,h[m].p,h[m].content,h[m].attributes,l)}}}};function M(){return{list:[],get value(){return this.list},add:function(t){this.list.push(t)},N:function(t,n){this.list[t].v=n},m:function(){this.list=this.list.filter((function(t){var n=t.element;return document.body.contains(n)}))}}}var T=function(t){var n={list:[],get value(){return this.list},add:function(t){this.list.push(t)},N:function(t,n){this.list[t].v=n}},e=M(),r=function(t){return{element:null,get value(){if(this.element||(this.element=t.querySelector("#app")),!this.element)throw new Error("No app element found!");return this.element}}}(t),o={state:null,get value(){return this.state||(this.state={}),this.state},set:function(t,n){this.state||(this.state={}),this.state[t]=n}};function u(t,r){setTimeout((function(){o.set(t,r),x(n,o.value),x(e,o.value)}),0)}var i=function(){w(r.value,o.value,n),s(r.value,o.value,e),b(r.value,o.value)},a=t.j;return a&&t.removeEventListener("DOMContentLoaded",a),t.addEventListener("DOMContentLoaded",i),t.j=i,{variable:function(t,n){return o.set(t,n),{set value(n){u(t,n)},get value(){return o.value[t]},set:function(n){u(t,n)}}}}},L=T(document).variable;return n})()));