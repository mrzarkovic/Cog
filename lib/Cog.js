(()=>{"use strict";var t=function(){var t=[],e={},n=null,r=function(t){return Function("return (state, value) => {".concat(Object.keys(e).map((function(t){return"const ".concat(t,' = state["').concat(t,'"];')})).join("\n"),"; return ").concat(t,"}"))()},o=function(){t.map((function(t){for(var n=t.element,o="",i=t.template,l=!0;l;){for(var f=i.indexOf("{{"),d=-1,v=0,s=f;s<i.length;s++)if("{{"===i.slice(s,s+2)?(v++,s++):"}}"===i.slice(s,s+2)&&(v--,s++),0===v){d=s;break}if(-1===f||-1===d||f>=d){l=!1;break}var m=i.slice(f+2,d-1),h=i.slice(0,f),y=i.slice(d+1),p=a(m);try{var E,g=r(p)(e);Array.isArray(g)&&(g=g.join("")),o+="".concat(h).concat(null!==(E=g)&&void 0!==E?E:p)}catch(t){if(t instanceof Error)throw new Error("".concat(t.message," {{").concat(p,"}}"))}i=y}var T=function(t,e){var n=t.cloneNode();function r(t,e){if(t.nodeType===Node.ELEMENT_NODE&&e.nodeType===Node.ELEMENT_NODE){var n=Array.from(t.childNodes).filter((function(t){return t.nodeType===Node.TEXT_NODE})),o=Array.from(e.childNodes).filter((function(t){return t.nodeType===Node.TEXT_NODE}));if(n.some((function(t,e){var n=o[e];return n&&t.textContent!==n.textContent})))return[{element:t,content:e.innerHTML}];var a=Array.from(t.attributes),c=Array.from(e.attributes);return a.length!==c.length||a.some((function(t,e){var n=c[e];return t.name!==n.name||t.value!==n.value}))?[{element:t,content:e.innerHTML}]:Array.from(t.childNodes).map((function(t,n){return r(t,e.childNodes[n])})).flat()}return[]}return n.innerHTML=e,r(t,n)}(n,o+=i);T.length>0&&T.map((function(t){var e,n=t.element,r=t.content;u(e=n,"click"),u(e,"change"),n.innerHTML=null!=r?r:"",c(n)}))}))};function a(t){var e=document.createElement("div");return e.innerHTML=function(t){return t.replace(/<(?=[^<>]*>)/g,"&lt;").replace(/(?<=[^<>]*)>/g,"&gt;")}(t),e.textContent||e.innerText||""}function c(t){i(t,"click"),i(t,"change")}function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"click";null==t||t.querySelectorAll("[data-".concat(e,"]")).forEach((function(t){var n=l(e,t);t.addEventListener(e,n),t["".concat(e,"Handler")]=n}))}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"click";null==t||t.querySelectorAll("[data-".concat(e,"]")).forEach((function(t){var n=t["".concat(e,"Handler")];n&&t.removeEventListener(e,n)}))}var l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"click",n=arguments.length>1?arguments[1]:void 0;return function(o){var a=n.getAttribute("data-".concat(t));if(a)try{r(a)(e)}catch(o){if(o instanceof Error)throw new Error("".concat(o.message,": data-").concat(t,"=").concat(a))}o.preventDefault()}};return document.addEventListener("DOMContentLoaded",(function(){if(!(n=document.querySelector("#app")))throw new Error("No app element found!");!function(){for(var e=document.evaluate(".//*[text()[contains(., '{{')] and text()[contains(., '}}')]]",n,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null),r=e.iterateNext();r;)t.push({element:r,template:r.innerHTML}),r=e.iterateNext()}(),c(n),o()})),{variable:function(t,n){return e[t]=n,{set:function(n){!function(t,n){setTimeout((function(){e[t]=n,o()}),0)}(t,n)},get value(){return e[t]}}}}}(),e=t.variable;function n(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var o=e("todos",[{text:"hello",done:!1}]);e("test","hello world"),e("save",(function(){var t=document.querySelector("[data-input=todo");null!=t&&t.value&&(o.set([].concat(n(o.value),[{text:t.value,done:!1}])),t.value="")})),e("toggleTodo",(function(t){var e=n(o.value);e[t].done=!e[t].done,o.set(e)})),e("Checkbox",(function(t){var e=t.index,n=void 0===e?-1:e,r=t.checked,o=void 0!==r&&r;return'<input type="checkbox" id="todo'.concat(n,'" data-change="toggleTodo(').concat(n,')" ').concat(o?"checked":""," />")}))})();